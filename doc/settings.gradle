/*
 * This settings file was generated by the Gradle 'init' task.
 *
 * The settings file is used to specify which projects to include in your build.
 * In a single project build this file can be empty or even removed.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user guide at https://docs.gradle.org/4.3-rc-2/userguide/multi_project_builds.html
 */

/*
// To declare projects as part of a multi-project build use the 'include' method
include 'shared'
include 'api'
include 'services:webservice'
*/

rootProject.name = 'hello_gradle'


println "In hello, gradle id is " +gradle.hashCode()  
println "Home Dir:" + gradle.gradleHomeDir  
println "User Home Dir:" + gradle.gradleUserHomeDir  
println "Parent: " + gradle.parent  


def initMinshengGradleEnvironment(){ 
    println this.getClass();
    println"initialize Minsheng Gradle Environment ....."  
    //属性值从local.properites中读取  
    Properties properties = new Properties()  
    File propertyFile = new File(rootDir.getAbsolutePath() +"/sample.properties")  
    properties.load(propertyFile.newDataInputStream())  
    //gradle就是gradle对象。它默认是Settings和Project的成员变量。可直接获取  
    //ext前缀，表明操作的是外置属性。api是一个新的属性名。前面说过，只在  
    //第一次定义或者设置它的时候需要ext前缀  
    gradle.ext.api =properties.getProperty('db.host')  
    println gradle.api  //再次存取api的时候，就不需要ext前缀了  
    println"initialize Minsheng Gradle Environment completes..."  
}  
initMinshengGradleEnvironment()  
//include 'api','model'
